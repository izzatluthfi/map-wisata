"use strict";(self.webpackChunkmaps_app=self.webpackChunkmaps_app||[]).push([[846],{2984:function(e,t,n){n.d(t,{b:function(){return a}});var a={NODE_ENV:"production",PUBLIC_URL:"/map-wisata",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_NAME:"Sistem Informasi Pemetaan Wisata Menggunakan Metode Heversine Formula",REACT_APP_VERSION:"v.1.0.0"}.REACT_APP_MAP_ACCESS_TOKEN||"pk.eyJ1IjoiYWx2YXJpenFpIiwiYSI6ImNreW14ZDM5MTNrdmUzMHFreXVtZ2dnaWkifQ.l4uadGhS9aAlUZ8wbYe2hw"},5264:function(e,t,n){n.d(t,{d:function(){return a}});var a=function(e){return(new DOMParser).parseFromString(e,"text/html").body.textContent||""}},3846:function(e,t,n){n.r(t),n.d(t,{default:function(){return y}});var a=n(885),o=n(2791),r=n(7689),i=n(6970),s=n(7205),l=n(2743),c=n(5483),d=n.n(c),u=(n(3161),function(e){return e*(Math.PI/180)}),p=n(2984),m=n(1442),h=n(3811),f=n(5927),g=n(184);function x(){var e=(0,r.s0)();return(0,g.jsx)("div",{className:"absolute z-50",children:(0,g.jsx)(h.Z,{color:"primary","aria-label":"back",className:"bg-white/70",onClick:function(){return e(-1)},children:(0,g.jsx)(f.Z,{})})})}var v=n(5264);function y(){var e=(0,r.UO)().name,t=o.useState(!1),n=(0,a.Z)(t,2),c=n[0],p=n[1],h=o.useRef(null),f=o.useRef(null),y=o.useState(-8.1424),b=(0,a.Z)(y,2),w=b[0],_=b[1],j=o.useState(112.1727),S=(0,a.Z)(j,2),M=S[0],C=S[1],N=o.useState(10),P=(0,a.Z)(N,2),k=P[0],E=P[1],T=new(d().GeolocateControl)({positionOptions:{enableHighAccuracy:!0},trackUserLocation:!0,showUserHeading:!0}),Z=m.features.find((function(t){return t.properties.nama===e}));T.on("geolocate",(function(){var e=document.createElement("div");e.className="marker",f.current.addSource("place",{type:"geojson",data:{type:"Feature",properties:{},geometry:{type:"LineString",coordinates:[[Z.geometry.coordinates[0],Z.geometry.coordinates[1]],[T._lastKnownPosition.coords.longitude,T._lastKnownPosition.coords.latitude]]}}}),f.current.addLayer({id:"place",type:"line",source:"place",layout:{"line-join":"round","line-cap":"round"},paint:{"line-color":"#fc0303","line-width":2}}),new(d().Marker)(e).setLngLat(Z.geometry.coordinates).setPopup(new(d().Popup)({offset:25}).setHTML('\n              <div>\n                <table className="table-auto">\n                  <tbody>\n                    <tr>\n                      <td style="vertical-align: top;">Jarak</td>\n                      <td style="vertical-align: top;">:</td>\n                      <td style="vertical-align: top;">'.concat(function(e,t,n,a){var o=u(n-e),r=u(a-t),i=Math.sin(o/2)*Math.sin(o/2)+Math.cos(u(e))*Math.cos(u(n))*Math.sin(r/2)*Math.sin(r/2);return 2*Math.atan2(Math.sqrt(i),Math.sqrt(1-i))*6371}(T._lastKnownPosition.coords.latitude,T._lastKnownPosition.coords.longitude,Z.geometry.coordinates[1],Z.geometry.coordinates[0]).toFixed(4)," km</td>\n                    </tr>\n                  </tbody>\n                </table>\n              </div>\n              "))).addTo(f.current).togglePopup()})),o.useEffect((function(){f.current||(f.current=new(d().Map)({container:h.current,style:"mapbox://styles/mapbox/streets-v12",width:"100%",height:"100%",center:[M,w],zoom:k,attributionControl:!1,doubleClickZoom:!1}).addControl(T).on("move",(function(){C(f.current.getCenter().lng.toFixed(4)),_(f.current.getCenter().lat.toFixed(4)),E(f.current.getZoom().toFixed(2))})).on("load",(function(){T.trigger()})))}));return(0,g.jsxs)("div",{className:"h-screen min-h-max overflow-y-auto",children:[(0,g.jsx)(x,{}),(0,g.jsx)("div",{className:"overflow-hidden ".concat(c?"relative":"hidden"),children:(0,g.jsx)("div",{ref:h,className:"w-full h-72 xl:h-96"})}),!c&&(0,g.jsx)("img",{src:Z.properties.imageThumbnail,className:"object-cover w-full h-72 xl:h-96",alt:Z.properties.nama,loading:"lazy"}),(0,g.jsxs)("div",{className:"p-6 h-full",children:[(0,g.jsx)("h1",{className:"text-2xl font-title transition-colors duration-200 capitalize",children:Z.properties.nama}),(0,g.jsx)("h3",{className:"mt-2 text-sm font-title transition-colors duration-200 text-gray-500 capitalize",children:Z.properties.kategori}),(0,g.jsxs)("div",{className:"flex mt-2 justify-between items-center",children:[(0,g.jsx)(i.Z,{name:"rating",value:Z.properties.rating,size:"small",readOnly:!0}),(0,g.jsx)(s.Z,{onClick:function(){p(!c)},variant:c?"contained":"outlined",size:"small",startIcon:(0,g.jsx)(l.Z,{}),children:"Haversine"})]}),(0,g.jsx)("p",{className:"mt-2 mb-2 text-gray-700 text-justify",children:(0,v.d)(Z.properties.description)})]})]})}d().accessToken=p.b}}]);
//# sourceMappingURL=846.850560dd.chunk.js.map